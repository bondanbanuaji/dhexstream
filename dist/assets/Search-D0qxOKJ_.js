import{u as g,j as e,A as y}from"./main-qQthZKlx.js";import{h as f,r as l}from"./vendor-YPvam5jz.js";const v=()=>{var x;const[h,n]=f(),d=h.get("query")||"",[r,j]=l.useState(d),[c,p]=l.useState(d);l.useEffect(()=>{const s=setTimeout(()=>{p(r),r.trim()?n({query:r}):n({})},500);return()=>{clearTimeout(s)}},[r,n]);const t=c.length>0,{data:i,loading:o,error:m}=g("search",{query:c},t),u=((x=i==null?void 0:i.data)==null?void 0:x.animeList)||[];return e.jsxs("div",{className:"container mx-auto px-6 py-20 min-h-screen",children:[t&&m&&e.jsx("div",{className:"text-center text-red-400 bg-red-500/10 p-4 rounded-lg max-w-md mx-auto border border-red-500/20 mb-8",children:"Error parsing results. Please try again."}),t&&!o&&!m&&u.length===0&&e.jsxs("div",{className:"text-center text-gray-400 my-20",children:[e.jsxs("p",{className:"text-xl mb-2",children:['No results found for "',c,'"']}),e.jsx("p",{className:"text-sm opacity-60",children:"Try checking your spelling or use a different keyword."})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6",children:o?Array.from({length:12}).map((s,a)=>e.jsx("div",{className:"animate-pulse bg-white/5 rounded-xl aspect-[2/3] w-full"},a)):u.map((s,a)=>e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${a*.05}s`},children:e.jsx(y,{anime:s})},s.animeId||a))}),!t&&e.jsx("div",{className:"text-center text-gray-600 mt-20",children:e.jsx("p",{children:"Type something to start searching..."})})]})};export{v as default};
