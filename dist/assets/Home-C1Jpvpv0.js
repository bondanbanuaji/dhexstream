import{c as H,j as e,P as S,Z as T,I as P,C as q,a as L,u as X,b as O,A,d as _}from"./main-qQthZKlx.js";import{r as c,g as M,L as v,R as I}from"./vendor-YPvam5jz.js";import{u as B}from"./useAniListImage-Dmqd5tXd.js";/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=H("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),V=({anime:t,currentSlide:l,totalSlides:n,active:r})=>{const o=c.useRef(null),{image:d}=B(t.title),a=d||t.poster;return c.useEffect(()=>{if(o.current&&r){const m=M.context(()=>{const x=o.current.querySelectorAll(".animate-hero");x.length>0&&M.timeline().fromTo(x,{opacity:0,x:-30},{opacity:1,x:0,duration:.6,stagger:.1,ease:"power2.out"})},o);return()=>m.revert()}},[t.animeId,r]),e.jsxs("div",{className:"relative w-full h-full overflow-hidden select-none",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${a})`,backgroundPosition:d?"center center":"center 20%",filter:d?"brightness(1)":"brightness(0.5) blur(3px)",transform:d?"scale(1.0)":"scale(1.1)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900 via-gray-900 via-transparent to-transparent",style:{backgroundSize:"150% 100%",backgroundPosition:"left"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/90 via-gray-900/40 to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dhex-bg via-transparent to-transparent"}),e.jsx("div",{className:"container mx-auto px-4 sm:px-6 h-full relative z-10",ref:o,children:e.jsxs("div",{className:"h-full flex flex-col justify-end pb-12 sm:pb-16 md:pb-20 lg:pb-24 max-w-[90%] sm:max-w-[80%] md:max-w-[70%] lg:max-w-[60%]",children:[e.jsxs("div",{className:"animate-hero text-dhex-accent text-[10px] sm:text-xs md:text-sm font-semibold mb-1 sm:mb-2 uppercase tracking-wide",children:["#",l+1," Spotlight"]}),e.jsx("h1",{className:"animate-hero text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-white mb-2 sm:mb-4 leading-tight line-clamp-2",children:t.title}),e.jsxs("div",{className:"animate-hero flex flex-wrap items-center gap-2 sm:gap-3 text-xs sm:text-sm md:text-base text-gray-300 mb-4 sm:mb-6",children:[e.jsx("span",{className:"px-1.5 py-0.5 sm:px-2 sm:py-1 bg-dhex-accent rounded text-white font-semibold text-[10px] sm:text-xs",children:"HD"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(S,{size:14,className:"w-3 h-3 sm:w-4 sm:h-4"}),t.type||"TV"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(T,{size:14,className:"text-yellow-500 w-3 h-3 sm:w-4 sm:h-4"}),new Date().toLocaleDateString("id-ID",{weekday:"long"})]}),t.latestReleaseDate&&e.jsx("span",{className:"hidden xs:inline",children:t.latestReleaseDate})]}),e.jsxs("div",{className:"animate-hero flex gap-3 sm:gap-4",children:[e.jsxs(v,{to:`/anime/${t.animeId}`,className:"px-4 py-2 sm:px-6 sm:py-3 bg-dhex-accent hover:bg-dhex-accent-hover text-white rounded-full font-semibold flex items-center gap-2 transition-transform hover:scale-105 text-xs sm:text-sm md:text-base",children:[e.jsx(S,{size:16,className:"w-4 h-4 sm:w-5 sm:h-5"}),"Watch Now"]}),e.jsxs(v,{to:`/anime/${t.animeId}`,className:"px-4 py-2 sm:px-6 sm:py-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white rounded-full font-semibold flex items-center gap-2 transition-transform hover:scale-105 text-xs sm:text-sm md:text-base",children:[e.jsx(P,{size:16,className:"w-4 h-4 sm:w-5 sm:h-5"}),"Details"]})]})]})})]})},G=({slides:t})=>{var C;const l=[t[t.length-1],...t,t[0]],[n,r]=c.useState(1),[o,d]=c.useState(0),[a,m]=c.useState(!1),[x,g]=c.useState(!0),u=c.useRef(0),h=c.useRef(null),w=c.useRef(null),f=c.useCallback(()=>{p(),w.current=setInterval(()=>{z()},5e3)},[t.length]),p=c.useCallback(()=>{w.current&&clearInterval(w.current)},[]);c.useEffect(()=>(f(),()=>p()),[f,p]),c.useEffect(()=>{if(!x){const s=setTimeout(()=>g(!0),10);return()=>clearTimeout(s)}if(n===0){const s=setTimeout(()=>{g(!1),r(l.length-2)},500);return()=>clearTimeout(s)}else if(n===l.length-1){const s=setTimeout(()=>{g(!1),r(1)},500);return()=>clearTimeout(s)}},[n,l.length,x]);const E=s=>{x&&(p(),m(!0),u.current=s.type.includes("touch")?s.touches[0].clientX:s.clientX)},j=c.useCallback(s=>{if(!a)return;const b=(s.type.includes("touch")?s.touches[0].clientX:s.clientX)-u.current;d(b)},[a]),y=c.useCallback(()=>{if(!a)return;m(!1);const s=100;o<-s?r(i=>i+1):o>s&&r(i=>i-1),d(0),f()},[o,a,f]),D=()=>{x&&(p(),r(s=>s-1),f())},z=()=>{x&&(p(),r(s=>s+1),f())};c.useEffect(()=>{const s=k=>j(k),i=()=>y(),b=k=>j(k),R=()=>y();return a&&(window.addEventListener("mousemove",s),window.addEventListener("mouseup",i),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",R)),()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",i),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",R)}},[a,j,y]);const W=-(n*100)+o/(((C=h.current)==null?void 0:C.clientWidth)||1)*100;let N=n-1;return n===0&&(N=t.length-1),n===l.length-1&&(N=0),e.jsxs("div",{className:"relative w-full h-[500px] md:h-[600px] overflow-hidden group",children:[e.jsx("div",{ref:h,className:"flex h-full w-full",style:{transform:`translateX(${W}%)`,transition:a||!x?"none":"transform 0.5s cubic-bezier(0.2, 0, 0.2, 1)"},onMouseDown:E,onTouchStart:E,children:l.map((s,i)=>e.jsx("div",{className:"w-full h-full flex-shrink-0",children:e.jsx(V,{anime:s,currentSlide:i===0?t.length-1:i===l.length-1?0:i-1,totalSlides:t.length,active:i===n})},`${s.animeId}-${i}`))}),e.jsx("button",{onClick:D,className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all opacity-0 group-hover:opacity-100 hidden md:flex",children:e.jsx(q,{size:24})}),e.jsx("button",{onClick:z,className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all opacity-0 group-hover:opacity-100 hidden md:flex",children:e.jsx(L,{size:24})}),e.jsx("div",{className:`absolute z-20 flex gap-3 transition-all 
                right-4 sm:right-6 top-1/2 -translate-y-1/2 flex-col
                p-3 sm:p-4 lg:p-2 lg:right-auto lg:top-auto lg:translate-y-0
                lg:bottom-8 lg:left-1/2 lg:-translate-x-1/2 lg:flex-row
                rounded-2xl lg:rounded-full bg-black/10 backdrop-blur-sm border border-white/5`,children:t.map((s,i)=>{const b=i===N;return e.jsx("button",{onClick:()=>{p(),r(i+1),f()},className:`relative rounded-full transition-all duration-300 overflow-hidden 
                                ${b?"bg-white/10 h-8 w-2 lg:h-2 lg:w-10":"h-2 w-2 bg-white/30 hover:bg-white/50"}`,children:b&&e.jsx("span",{className:"absolute inset-0 bg-dhex-accent",style:{animation:"progress-slide 5s linear forwards",transformOrigin:"top left",display:"block"}})},i)})}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
                @media (max-width: 1023px) {
                    @keyframes progress-slide {
                        from { transform: scaleY(0); }
                        to { transform: scaleY(1); }
                    }
                }
                @media (min-width: 1024px) {
                    @keyframes progress-slide {
                        from { transform: scaleX(0); }
                        to { transform: scaleX(1); }
                    }
                }
            `}})]})},Y=({anime:t})=>{const l=I.useRef(null),n=I.useRef(null),{gsap:r}=O(),o=()=>{l.current&&(n.current&&n.current.revert(),n.current=r.context(()=>{const a=l.current,m=a==null?void 0:a.querySelector(".play-btn");a&&r.to(a,{y:-5,scale:1.02,duration:.3,ease:"power2.out"}),m&&r.to(m,{opacity:1,scale:1,duration:.3})},l))},d=()=>{l.current&&(n.current&&n.current.revert(),n.current=r.context(()=>{const a=l.current,m=a==null?void 0:a.querySelector(".play-btn");a&&r.to(a,{y:0,scale:1,duration:.3,ease:"power2.out"}),m&&r.to(m,{opacity:0,scale:.8,duration:.3})},l))};return I.useEffect(()=>()=>{n.current&&n.current.revert()},[]),e.jsx(v,{to:`/watch/${t.href.replace(/^\/+/,"")}`,className:"block",children:e.jsxs("div",{ref:l,className:"relative group rounded-xl overflow-hidden shadow-lg bg-dhex-bg-secondary w-full aspect-[16/9] cursor-pointer",style:{aspectRatio:"3/4"},onMouseEnter:o,onMouseLeave:d,children:[e.jsx("img",{src:t.poster,alt:t.title,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity duration-300",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-90"}),e.jsx("div",{className:"play-btn absolute inset-0 flex items-center justify-center opacity-0 scale-75 transform text-white transition-all duration-300",children:e.jsx("div",{className:"bg-dhex-accent/90 p-3 rounded-full backdrop-blur-sm shadow-xl hover:bg-dhex-accent",children:e.jsx(S,{fill:"currentColor",size:20})})}),e.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-3",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-dhex-accent/90 backdrop-blur-md rounded-md text-[10px] font-bold text-white uppercase tracking-wider shadow-lg",children:[e.jsx($,{size:10}),"Last Watch ",t.time!=="baru saja"?t.time:""]})}),e.jsx("h3",{className:"text-white font-semibold truncate text-sm leading-tight drop-shadow-md",children:t.title})]})]})})},Z=()=>{const{data:t,loading:l,error:n}=X("get_recent");if(l||n||!(t!=null&&t.data)||t.data.length===0)return null;const r=t.data;return e.jsxs("div",{className:"container mx-auto px-6 pt-8 pb-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-white flex items-center gap-3",children:[e.jsx($,{className:"text-blue-400",size:32}),"Continue Watching"]})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4 md:gap-6",children:r.slice(0,7).map((o,d)=>e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${d*.05}s`},children:e.jsx(Y,{anime:o})},o.animeId||d))})]})},K=()=>{var a,m,x,g;const{data:t,loading:l,error:n}=X("home"),r=((m=(a=t==null?void 0:t.data)==null?void 0:a.ongoing)==null?void 0:m.animeList)||[],o=((g=(x=t==null?void 0:t.data)==null?void 0:x.completed)==null?void 0:g.animeList)||[],d=r.slice(0,6);return l?e.jsx("div",{className:"min-h-screen pt-20 flex justify-center items-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-dhex-accent mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading..."})]})}):n?e.jsx("div",{className:"min-h-screen pt-20 flex justify-center items-center",children:e.jsx("div",{className:"text-center text-red-500",children:e.jsx("p",{children:"Error loading homepage"})})}):e.jsxs("div",{className:"pb-20",children:[d.length>0&&e.jsx(G,{slides:d}),e.jsx(Z,{}),e.jsxs("div",{className:"container mx-auto px-6 py-16",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-white flex items-center gap-3",children:[e.jsx(T,{className:"text-dhex-accent",size:32}),"On Going Anime"]}),e.jsxs(v,{to:"/watch/ongoing",className:"text-dhex-accent hover:text-dhex-accent-hover transition-colors flex items-center gap-2",children:["View All",e.jsx(L,{size:18})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4 md:gap-6",children:r.slice(0,12).map((u,h)=>e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${h*.05}s`},children:e.jsx(A,{anime:u})},u.animeId||h))})]}),e.jsxs("div",{className:"container mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-white flex items-center gap-3",children:[e.jsx(_,{className:"text-green-500",size:32}),"Completed Anime"]}),e.jsxs(v,{to:"/watch/completed",className:"text-dhex-accent hover:text-dhex-accent-hover transition-colors flex items-center gap-2",children:["View All",e.jsx(L,{size:18})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4 md:gap-6",children:o.slice(0,12).map((u,h)=>e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${h*.05}s`},children:e.jsx(A,{anime:u})},u.animeId||h))})]})]})};export{K as default};
