import{c as T,h as I,i as S,e as Z,r as z,u as q,j as e,Z as $,A as G,C as A,a as E,d as O}from"./main-BicMX7AG.js";import{T as U}from"./tags-tU65WQ82.js";/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=T("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=T("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),K=({type:o})=>{var L;const[M]=I(),R=S(),{id:x}=Z(),y=parseInt(M.get("page")||"1",10),[P,W]=z.useState(window.innerWidth);z.useEffect(()=>{const t=()=>W(window.innerWidth);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);let p="",b="",u=$,j={page:y};o==="ongoing"?(p="ongoing",b="Ongoing Anime",u=$):o==="complete"?(p="complete",b="Completed Anime",u=O):o==="genre"&&(p="genre",j={...j,id:x},b=`Genre: ${x==null?void 0:x.replace(/-/g," ").toUpperCase()}`,u=U);const{data:r,loading:F,error:k}=q(p,j),m=t=>{var h;if(t<1)return;const d=((h=r==null?void 0:r.pagination)==null?void 0:h.totalPages)||1;if(t>d)return;window.scrollTo({top:0,behavior:"smooth"});let c="";o==="ongoing"?c="/watch/ongoing":o==="complete"?c="/watch/completed":o==="genre"&&(c=`/genre/${x}`),R(`${c}?page=${t}`)};if(F)return e.jsxs("div",{className:"min-h-screen pt-20 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-dhex-accent/20 rounded-full"}),e.jsx("div",{className:"w-16 h-16 border-4 border-dhex-accent border-t-transparent rounded-full animate-spin absolute top-0"})]}),e.jsx("p",{className:"text-dhex-accent mt-4 font-semibold",children:"Loading anime..."})]});if(k)return e.jsx("div",{className:"min-h-screen pt-20 flex flex-col items-center justify-center",children:e.jsxs("div",{className:"text-center bg-red-500/10 border border-red-500/30 rounded-2xl p-8 max-w-md",children:[e.jsx("p",{className:"text-red-500 text-xl mb-2 font-bold",children:"‚ö†Ô∏è Error Loading Data"}),e.jsx("p",{className:"text-gray-400 text-sm",children:k.message||"Please try again later"})]})});const v=((L=r==null?void 0:r.data)==null?void 0:L.animeList)||[],i=(r==null?void 0:r.pagination)||{},n=i.currentPage||y,a=i.totalPages||1,C=i.totalAnime||i.total||0,f=i.hasNextPage!==void 0?i.hasNextPage:n<a,w=i.hasPrevPage!==void 0?i.hasPrevPage:n>1;return e.jsxs("div",{className:"container mx-auto px-6 py-10 min-h-screen",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsxs("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-4 flex items-center justify-center gap-3",children:[e.jsx(u,{className:"text-dhex-accent",size:40}),b]}),e.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/5 border border-white/10 px-6 py-2 rounded-full backdrop-blur-md",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-dhex-accent animate-pulse shadow-lg shadow-dhex-accent/50"}),e.jsxs("p",{className:"text-gray-300 text-sm font-medium",children:["Page ",e.jsx("span",{className:"text-white font-bold",children:n})," of ",e.jsx("span",{className:"text-white font-bold",children:a})]}),C>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-600",children:"‚Ä¢"}),e.jsxs("p",{className:"text-gray-300 text-sm font-medium",children:["Total: ",e.jsx("span",{className:"text-dhex-accent font-bold",children:C})," anime"]})]})]})]}),v.length===0?e.jsx("div",{className:"text-center py-20",children:e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-12 max-w-md mx-auto",children:[e.jsx("p",{className:"text-gray-400 text-xl mb-2",children:"üì≠ No anime found"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Try a different page or check back later"})]})}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4 md:gap-6",children:v.map((t,d)=>e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${d*.05}s`},children:e.jsx(G,{anime:t})},t.id||t.slug||d))}),a>1&&e.jsxs("div",{className:"mt-16 space-y-8",children:[e.jsxs("div",{className:"flex justify-center items-center gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>m(1),disabled:!w,className:`w-10 h-10 rounded-xl hidden md:flex items-center justify-center transition-all duration-300 ${w?"bg-white/10 hover:bg-white/20 text-gray-300 hover:text-white border border-white/5 hover:border-white/20":"bg-white/5 text-gray-600 cursor-not-allowed opacity-50"}`,title:"First Page",children:e.jsx(V,{size:18})}),e.jsxs("button",{onClick:()=>m(n-1),disabled:!w,className:`w-10 h-10 md:w-14 md:h-14 rounded-xl md:rounded-2xl flex items-center justify-center transition-all duration-300 ${w?"bg-dhex-accent hover:bg-dhex-accent-hover text-white shadow-lg shadow-dhex-accent/20 active:scale-95 border border-white/10":"bg-white/5 text-gray-600 cursor-not-allowed opacity-50"}`,title:"Previous Page",children:[e.jsx(A,{size:20,className:"md:hidden"}),e.jsx(A,{size:24,className:"hidden md:block"})]}),e.jsx("div",{className:"flex items-center gap-1.5 md:gap-2 bg-black/40 p-1.5 md:p-2 rounded-2xl md:rounded-[2rem] border border-white/10 backdrop-blur-xl shadow-2xl",children:(()=>{const t=[],d=P<640,c=P<1024,h=d?3:c?5:7;if(a<=h)for(let s=1;s<=a;s++)t.push(s);else{t.push(1);let s=d?0:1,g=Math.max(2,n-s),l=Math.min(a-1,n+s);n<=s+2?(g=2,l=Math.min(h-2,a-1)):n>=a-s-1&&(g=Math.max(2,a-h+3),l=a-1),g>2&&t.push("start-ellipsis");for(let N=g;N<=l;N++)t.push(N);l<a-1&&t.push("end-ellipsis"),t.push(a)}return t.map((s,g)=>{if(typeof s=="string")return e.jsx("span",{className:"px-1 text-gray-600 font-black text-xl select-none",children:"¬∑"},s);const l=s===n;return e.jsx("button",{onClick:()=>m(s),disabled:l,className:`min-w-[36px] md:min-w-[50px] h-9 md:h-12 px-2 md:px-3 rounded-lg md:rounded-2xl transition-all duration-300 text-xs md:text-base font-bold ${l?"bg-gradient-to-br from-dhex-accent to-pink-500 text-white shadow-xl shadow-dhex-accent/40 cursor-default":"text-gray-400 hover:bg-white/10 hover:text-white active:scale-95"}`,children:s},s)})})()}),e.jsxs("button",{onClick:()=>m(n+1),disabled:!f,className:`w-10 h-10 md:w-14 md:h-14 rounded-xl md:rounded-2xl flex items-center justify-center transition-all duration-300 ${f?"bg-dhex-accent hover:bg-dhex-accent-hover text-white shadow-lg shadow-dhex-accent/20 active:scale-95 border border-white/10":"bg-white/5 text-gray-600 cursor-not-allowed opacity-50"}`,title:"Next Page",children:[e.jsx(E,{size:20,className:"md:hidden"}),e.jsx(E,{size:24,className:"hidden md:block"})]}),e.jsx("button",{onClick:()=>m(a),disabled:!f,className:`w-10 h-10 rounded-xl hidden md:flex items-center justify-center transition-all duration-300 ${f?"bg-white/10 hover:bg-white/20 text-gray-300 hover:text-white border border-white/5 hover:border-white/20":"bg-white/5 text-gray-600 cursor-not-allowed opacity-50"}`,title:"Last Page",children:e.jsx(B,{size:18})})]}),e.jsx("div",{className:"text-center animate-fade-in",style:{animationDelay:"0.2s"},children:e.jsx("div",{className:"inline-flex items-center gap-3 bg-white/5 border border-white/10 px-6 py-2.5 rounded-full backdrop-blur-md",children:e.jsxs("span",{className:"text-gray-400 text-xs md:text-sm font-medium tracking-wide flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"Showing ",e.jsx("span",{className:"text-white font-bold",children:v.length})," masterpieces on this page"]})})})]})]})};export{K as default};
