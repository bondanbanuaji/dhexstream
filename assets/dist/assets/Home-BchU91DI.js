import{c as D,r as i,g as W,j as e,P as I,Z as A,L as v,I as H,C as P,a as S,u as M,R as q,b as O,A as R,d as _}from"./main-BicMX7AG.js";import{u as V}from"./useAniListImage-D73AcLf9.js";/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=D("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),G=({anime:t,currentSlide:a,totalSlides:l,active:n})=>{const o=i.useRef(null),{image:c}=V(t.title),d=c||t.poster;return i.useEffect(()=>{o.current&&n&&W.timeline().fromTo(o.current.querySelectorAll(".animate-hero"),{opacity:0,x:-30},{opacity:1,x:0,duration:.6,stagger:.1,ease:"power2.out"})},[t.animeId,n]),e.jsxs("div",{className:"relative w-full h-full overflow-hidden select-none",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${d})`,backgroundPosition:c?"center center":"center 20%",filter:c?"brightness(1)":"brightness(0.5) blur(3px)",transform:c?"scale(1.0)":"scale(1.1)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900 via-gray-900 via-transparent to-transparent",style:{backgroundSize:"150% 100%",backgroundPosition:"left"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/90 via-gray-900/40 to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dhex-bg via-transparent to-transparent"}),e.jsx("div",{className:"container mx-auto px-4 sm:px-6 h-full relative z-10",ref:o,children:e.jsxs("div",{className:"h-full flex flex-col justify-end pb-12 sm:pb-16 md:pb-20 lg:pb-24 max-w-[90%] sm:max-w-[80%] md:max-w-[70%] lg:max-w-[60%]",children:[e.jsxs("div",{className:"animate-hero text-dhex-accent text-[10px] sm:text-xs md:text-sm font-semibold mb-1 sm:mb-2 uppercase tracking-wide",children:["#",a+1," Spotlight"]}),e.jsx("h1",{className:"animate-hero text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-white mb-2 sm:mb-4 leading-tight line-clamp-2",children:t.title}),e.jsxs("div",{className:"animate-hero flex flex-wrap items-center gap-2 sm:gap-3 text-xs sm:text-sm md:text-base text-gray-300 mb-4 sm:mb-6",children:[e.jsx("span",{className:"px-1.5 py-0.5 sm:px-2 sm:py-1 bg-dhex-accent rounded text-white font-semibold text-[10px] sm:text-xs",children:"HD"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(I,{size:14,className:"w-3 h-3 sm:w-4 sm:h-4"}),t.type||"TV"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(A,{size:14,className:"text-yellow-500 w-3 h-3 sm:w-4 sm:h-4"}),new Date().toLocaleDateString("id-ID",{weekday:"long"})]}),t.latestReleaseDate&&e.jsx("span",{className:"hidden xs:inline",children:t.latestReleaseDate})]}),e.jsxs("div",{className:"animate-hero flex gap-3 sm:gap-4",children:[e.jsxs(v,{to:`/anime/${t.animeId}`,className:"px-4 py-2 sm:px-6 sm:py-3 bg-dhex-accent hover:bg-dhex-accent-hover text-white rounded-full font-semibold flex items-center gap-2 transition-transform hover:scale-105 text-xs sm:text-sm md:text-base",children:[e.jsx(I,{size:16,className:"w-4 h-4 sm:w-5 sm:h-5"}),"Watch Now"]}),e.jsxs(v,{to:`/anime/${t.animeId}`,className:"px-4 py-2 sm:px-6 sm:py-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white rounded-full font-semibold flex items-center gap-2 transition-transform hover:scale-105 text-xs sm:text-sm md:text-base",children:[e.jsx(H,{size:16,className:"w-4 h-4 sm:w-5 sm:h-5"}),"Details"]})]})]})})]})},Y=({slides:t})=>{var C;const a=[t[t.length-1],...t,t[0]],[l,n]=i.useState(1),[o,c]=i.useState(0),[d,f]=i.useState(!1),[m,b]=i.useState(!0),x=i.useRef(0),h=i.useRef(null),w=i.useRef(null),u=i.useCallback(()=>{g(),w.current=setInterval(()=>{z()},5e3)},[t.length]),g=i.useCallback(()=>{w.current&&clearInterval(w.current)},[]);i.useEffect(()=>(u(),()=>g()),[u,g]),i.useEffect(()=>{if(!m){const s=setTimeout(()=>b(!0),10);return()=>clearTimeout(s)}if(l===0){const s=setTimeout(()=>{b(!1),n(a.length-2)},500);return()=>clearTimeout(s)}else if(l===a.length-1){const s=setTimeout(()=>{b(!1),n(1)},500);return()=>clearTimeout(s)}},[l,a.length,m]);const L=s=>{m&&(g(),f(!0),x.current=s.type.includes("touch")?s.touches[0].clientX:s.clientX)},j=i.useCallback(s=>{if(!d)return;const p=(s.type.includes("touch")?s.touches[0].clientX:s.clientX)-x.current;c(p)},[d]),y=i.useCallback(()=>{if(!d)return;f(!1);const s=100;o<-s?n(r=>r+1):o>s&&n(r=>r-1),c(0),u()},[o,d,u]),X=()=>{m&&(g(),n(s=>s-1),u())},z=()=>{m&&(g(),n(s=>s+1),u())};i.useEffect(()=>{const s=k=>j(k),r=()=>y(),p=k=>j(k),E=()=>y();return d&&(window.addEventListener("mousemove",s),window.addEventListener("mouseup",r),window.addEventListener("touchmove",p,{passive:!1}),window.addEventListener("touchend",E)),()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",r),window.removeEventListener("touchmove",p),window.removeEventListener("touchend",E)}},[d,j,y]);const $=-(l*100)+o/(((C=h.current)==null?void 0:C.clientWidth)||1)*100;let N=l-1;return l===0&&(N=t.length-1),l===a.length-1&&(N=0),e.jsxs("div",{className:"relative w-full h-[500px] md:h-[600px] overflow-hidden group",children:[e.jsx("div",{ref:h,className:"flex h-full w-full",style:{transform:`translateX(${$}%)`,transition:d||!m?"none":"transform 0.5s cubic-bezier(0.2, 0, 0.2, 1)"},onMouseDown:L,onTouchStart:L,children:a.map((s,r)=>e.jsx("div",{className:"w-full h-full flex-shrink-0",children:e.jsx(G,{anime:s,currentSlide:r===0?t.length-1:r===a.length-1?0:r-1,totalSlides:t.length,active:r===l})},`${s.animeId}-${r}`))}),e.jsx("button",{onClick:X,className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all opacity-0 group-hover:opacity-100 hidden md:flex",children:e.jsx(P,{size:24})}),e.jsx("button",{onClick:z,className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all opacity-0 group-hover:opacity-100 hidden md:flex",children:e.jsx(S,{size:24})}),e.jsx("div",{className:`absolute z-20 flex gap-3 transition-all 
                right-4 sm:right-6 top-1/2 -translate-y-1/2 flex-col
                p-3 sm:p-4 lg:p-2 lg:right-auto lg:top-auto lg:translate-y-0
                lg:bottom-8 lg:left-1/2 lg:-translate-x-1/2 lg:flex-row
                rounded-2xl lg:rounded-full bg-black/10 backdrop-blur-sm border border-white/5`,children:t.map((s,r)=>{const p=r===N;return e.jsx("button",{onClick:()=>{g(),n(r+1),u()},className:`relative rounded-full transition-all duration-300 overflow-hidden 
                                ${p?"bg-white/10 h-8 w-2 lg:h-2 lg:w-10":"h-2 w-2 bg-white/30 hover:bg-white/50"}`,children:p&&e.jsx("div",{className:"absolute inset-0 bg-dhex-accent",style:{animation:"progress-slide 5s linear forwards",transformOrigin:"top left"}})},r)})}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
                @media (max-width: 1023px) {
                    @keyframes progress-slide {
                        from { transform: scaleY(0); }
                        to { transform: scaleY(1); }
                    }
                }
                @media (min-width: 1024px) {
                    @keyframes progress-slide {
                        from { transform: scaleX(0); }
                        to { transform: scaleX(1); }
                    }
                }
            `}})]})},Z=({anime:t})=>{const a=q.useRef(null),{gsap:l}=O(),n=()=>{l.to(a.current,{y:-5,scale:1.02,duration:.3,ease:"power2.out"}),l.to(a.current.querySelector(".play-btn"),{opacity:1,scale:1,duration:.3})},o=()=>{l.to(a.current,{y:0,scale:1,duration:.3,ease:"power2.out"}),l.to(a.current.querySelector(".play-btn"),{opacity:0,scale:.8,duration:.3})};return e.jsx(v,{to:`/watch/${t.href.replace(/^\/+/,"")}`,className:"block",children:e.jsxs("div",{ref:a,className:"relative group rounded-xl overflow-hidden shadow-lg bg-dhex-bg-secondary w-full aspect-[16/9] cursor-pointer",style:{aspectRatio:"3/4"},onMouseEnter:n,onMouseLeave:o,children:[e.jsx("img",{src:t.poster,alt:t.title,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity duration-300",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-90"}),e.jsx("div",{className:"play-btn absolute inset-0 flex items-center justify-center opacity-0 scale-75 transform text-white transition-all duration-300",children:e.jsx("div",{className:"bg-dhex-accent/90 p-3 rounded-full backdrop-blur-sm shadow-xl hover:bg-dhex-accent",children:e.jsx(I,{fill:"currentColor",size:20})})}),e.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-3",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-dhex-accent/90 backdrop-blur-md rounded-md text-[10px] font-bold text-white uppercase tracking-wider shadow-lg",children:[e.jsx(T,{size:10}),"Last Watch ",t.time!=="baru saja"?t.time:""]})}),e.jsx("h3",{className:"text-white font-semibold truncate text-sm leading-tight drop-shadow-md",children:t.title})]})]})})},B=()=>{const{data:t,loading:a,error:l}=M("get_recent");if(a||l||!(t!=null&&t.data)||t.data.length===0)return null;const n=t.data;return e.jsxs("div",{className:"container mx-auto px-6 pt-8 pb-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-white flex items-center gap-3",children:[e.jsx(T,{className:"text-blue-400",size:32}),"Continue Watching"]})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4 md:gap-6",children:n.slice(0,7).map((o,c)=>e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${c*.05}s`},children:e.jsx(Z,{anime:o})},o.animeId||c))})]})},J=()=>{var d,f,m,b;const{data:t,loading:a,error:l}=M("home"),n=((f=(d=t==null?void 0:t.data)==null?void 0:d.ongoing)==null?void 0:f.animeList)||[],o=((b=(m=t==null?void 0:t.data)==null?void 0:m.completed)==null?void 0:b.animeList)||[],c=n.slice(0,6);return a?e.jsx("div",{className:"min-h-screen pt-20 flex justify-center items-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-dhex-accent mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading..."})]})}):l?e.jsx("div",{className:"min-h-screen pt-20 flex justify-center items-center",children:e.jsx("div",{className:"text-center text-red-500",children:e.jsx("p",{children:"Error loading homepage"})})}):e.jsxs("div",{className:"pb-20",children:[c.length>0&&e.jsx(Y,{slides:c}),e.jsx(B,{}),e.jsxs("div",{className:"container mx-auto px-6 py-16",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-white flex items-center gap-3",children:[e.jsx(A,{className:"text-dhex-accent",size:32}),"On Going Anime"]}),e.jsxs(v,{to:"/watch/ongoing",className:"text-dhex-accent hover:text-dhex-accent-hover transition-colors flex items-center gap-2",children:["View All",e.jsx(S,{size:18})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4 md:gap-6",children:n.slice(0,12).map((x,h)=>e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${h*.05}s`},children:e.jsx(R,{anime:x})},x.animeId||h))})]}),e.jsxs("div",{className:"container mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-white flex items-center gap-3",children:[e.jsx(_,{className:"text-green-500",size:32}),"Completed Anime"]}),e.jsxs(v,{to:"/watch/completed",className:"text-dhex-accent hover:text-dhex-accent-hover transition-colors flex items-center gap-2",children:["View All",e.jsx(S,{size:18})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4 md:gap-6",children:o.slice(0,12).map((x,h)=>e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${h*.05}s`},children:e.jsx(R,{anime:x})},x.animeId||h))})]})]})};export{J as default};
